"use strict";let series=[],seriesFavs=[],seriesList=document.querySelector(".js-series-list");const seriesFavourites=document.querySelector(".js-favs"),input=document.querySelector(".js-input"),btn=document.querySelector(".js-btn");function handleGetInfoSeries(){getApi()}function paintSeries(){let e="";for(const s of series){const i=s.show.name;let t=s.show.image,n="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";t=null===t?n:s.show.image.medium,e+=`<li class="list--li js-serieBox" id="${s.show.id}">`,e+=`<img src="${t}" width="350" height="350" class="serie-img"/>`,e+=`<h3 class="serie-title">${i}</h3>`,e+="</li>"}seriesList.innerHTML=e,listenSerie()}function preventBtn(e){e.preventDefault()}function handleClickEv(e){console.log(e.currentTarget),console.log(e.currentTarget.id);const s=parseInt(e.currentTarget.id),i=series.find(e=>e.show.id===s),t=seriesFavs.findIndex(e=>e.id===s);-1===t?seriesFavs.push(i):seriesFavs.splice(t,1),paintFavs()}function listenSerie(){const e=document.querySelectorAll(".js-serieBox");for(const s of e)s.addEventListener("click",handleClickEv)}function paintFavs(){let e='<li class="title-fav">Series favoritas: </li>';for(const s of seriesFavs){let i=s.show.name,t=s.show.id,n=s.show.image,r="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";n=null===n?r:s.show.image.medium,e+=`<li class="list--li js-serieBox" id="${t}">`,e+=`<img src="${n}" width="350" height="350" class="serie-img"/>`,e+=`<h3 class="serie-title">${i}</h3></li>`}seriesFavourites.innerHTML=e}function getApi(){const e=input.value;fetch("http://api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{series=e,paintSeries()})}btn.addEventListener("click",handleGetInfoSeries),btn.addEventListener("click",preventBtn),console.log(">> Ready :)");